# μ„Έμ… 002: CLI νλΌλ―Έν„° μ§€μ› μ¶”κ°€

## μ„Έμ… μ •λ³΄
**μ„Έμ… ID:** session-002-20251107-cli-params  
**μ‹μ‘ μΌμ‹:** 2025-11-07  
**μƒνƒ:** μ™„λ£  

---

## μ‘μ—… λ©μ 
`run_bench_interactive.py`μ— **CLI νλΌλ―Έν„° μ§€μ›**μ„ μ¶”κ°€ν•μ—¬:
- μ‚¬μ©μλ” λ€ν™”ν• μΈν„°νμ΄μ¤λ΅ νΈλ¦¬ν•κ² μ‚¬μ©
- AIλ” νλΌλ―Έν„°λ΅ μλ™ν™”λ λ²¤μΉλ§ν¬ μ‹¤ν–‰ κ°€λ¥

### λ°°κ²½
μ‚¬μ©μ ν”Όλ“λ°±: "λ‚΄κ°€ μ“Έ λ• CLI μΈν„°νμ΄μ¤κ°€ μΆ‹μ€λ°. λ„λ” νλΌλ―Έν„° λ„£λ”κ² νΈν• ν…λ‹ νλΌλ―Έν„°λ΅λ„ μ„¤μ •ν•  μ μκ² ν•μ. κ·Έλμ•Ό λ‚΄κ°€ λ„ν•ν… μ‹ν‚¤μ§€"

---

## μ‘μ—… κ³„ν

1. **argparse μ¶”κ°€**: CLI νλΌλ―Έν„° νμ‹± κµ¬ν„
   - --target: λ€μƒ μ„λ²„ μ΄λ¦„
   - --model: λ¨λΈ μ΄λ¦„  
   - --workload: μ›ν¬λ΅λ“ μ΄λ¦„
   - --duration, --rps, --concurrency: μ»¤μ¤ν…€ μ„¤μ •
   - --max-tokens, --temperature, --prompt-type: μ¶”κ°€ μµμ…

2. **λ¨λ“ μλ™ κ°μ§€**: νλΌλ―Έν„° μ λ¬΄λ΅ CLI/λ€ν™”ν• λ¨λ“ μλ™ μ „ν™
   - νλΌλ―Έν„° μμ β†’ CLI λ¨λ“ (μλ™ μ‹¤ν–‰)
   - νλΌλ―Έν„° μ—†μ β†’ λ€ν™”ν• λ¨λ“ (κΈ°μ΅΄ λ™μ‘)

3. **μ—λ¬ μ²λ¦¬**: μ ν¨ν•μ§€ μ•μ€ νλΌλ―Έν„° κ²€μ¦ λ° μ•λ‚΄ λ©”μ‹μ§€

4. **ν…μ¤νΈ**: μ–‘μ½ λ¨λ“ λ™μ‘ ν™•μΈ

5. **λ¬Έμ„ μ—…λ°μ΄νΈ**: README.mdμ— CLI μ‚¬μ© μμ  μ¶”κ°€

---

## μ§„ν–‰ μƒν™©

### μ²΄ν¬λ¦¬μ¤νΈ
- [x] `parse_arguments()` ν•¨μ μ¶”κ°€ (argparse κΈ°λ°)
- [x] `run_with_cli_args()` ν•¨μ μ¶”κ°€ (CLI λ¨λ“ μ‹¤ν–‰)
- [x] `main()` ν•¨μ μμ • (λ¨λ“ μλ™ κ°μ§€)
- [x] λ€ν™”ν• μ½”λ“ `run_interactive()` ν•¨μλ΅ λ¶„λ¦¬
- [x] λ³€μλ… ν†µμΌ (targets, models, workloads)
- [x] ν”„λ΅¬ν”„νΈ λ΅λ“ λ΅μ§ κ³µν†µν™”
- [x] μ—λ¬ κ²€μ¦ λ° help λ©”μ‹μ§€ μ‘μ„±
- [x] --help λ™μ‘ ν™•μΈ
- [x] README.md μ—…λ°μ΄νΈ (CLI μμ  μ¶”κ°€)
- [x] μ„Έμ… νμΌ μ™„λ£ λ° Git λ™κΈ°ν™”

---

## μ£Όμ” κ²°μ •μ‚¬ν•­

1. **λ¨λ“ μ „ν™ λ°©μ‹**: νλΌλ―Έν„° μλ™ κ°μ§€ (λ…μ‹μ  ν”λκ·Έ μ—†μ)
2. **νΈν™μ„±**: κΈ°μ΅΄ λ€ν™”ν• λ™μ‘ μ™„μ „ν μ μ§€
3. **νλΌλ―Έν„° μ°μ„ μμ„**: CLI μΈμκ°€ μ›ν¬λ΅λ“ μ„¤μ • μ¤λ²„λΌμ΄λ“
4. **λ³€μλ… ν†µμΌ**: targets_config β†’ targets, models_config β†’ models, workloads_config β†’ workloads

---

## μ‘μ—… κ²°κ³Ό

### μƒμ„±/μμ •λ νμΌ
- β… `scripts/run_bench_interactive.py` - CLI νλΌλ―Έν„° μ§€μ› μ¶”κ°€
  - argparse κΈ°λ° νλΌλ―Έν„° νμ‹±
  - run_with_cli_args() ν•¨μλ΅ CLI λ¨λ“ κµ¬ν„
  - main()μ—μ„ μλ™ λ¨λ“ κ°μ§€
  - λ³€μλ… ν†µμΌ λ° μ—λ¬ μμ •
  
- β… `README.md` - CLI λ¨λ“ μ‚¬μ© μμ  μ¶”κ°€
  - "π–¥οΈ CLI λ¨λ“ μ‹¤ν–‰ (μλ™ν™”/μ¤ν¬λ¦½νΈμ©)" μ„Ήμ… μ¶”κ°€
  - μ‚¬μ „ μ •μ μ›ν¬λ΅λ“ μμ 
  - μ»¤μ¤ν…€ μ„¤μ • μμ 
  - νλΌλ―Έν„° μ„¤λ…
  
- β… `.github/sessions/session-002-20251107-cli-params.md` - μ„Έμ… λ¬Έμ„
- β… `.github/current-session.md` - ν„μ¬ μ„Έμ… μ—…λ°μ΄νΈ
- β… `.github/session-manager.md` - μ„Έμ… κ΄€λ¦¬μ μ—…λ°μ΄νΈ

---

## ν•™μµ λ‚΄μ© λ° μ΄μ

### ν•΄κ²°ν• λ¬Έμ 
1. **λ³€μλ… λ¶μΌμΉ**: load_configs()κ°€ λ°ν™ν• κ°’μ„ targets_configλ΅ λ°›μ•μΌλ‚ μ‹¤μ λ΅λ” targetsλ΅ μ‚¬μ©ν•΄μ•Ό ν•¨
   - ν•΄κ²°: run_interactive()μ—μ„ λ³€μλ…μ„ targets, models, workloadsλ΅ ν†µμΌ

2. **ν”„λ΅¬ν”„νΈ λ΅λ“**: CLI λ¨λ“μ—μ„ load_prompts() ν•¨μ νΈμ¶ μ‹λ„ν–μΌλ‚ μ΅΄μ¬ν•μ§€ μ•μ
   - ν•΄κ²°: workloads['prompt_templates'][prompt_type] μ§μ ‘ μ ‘κ·ΌμΌλ΅ λ³€κ²½

### κ°μ„  μ‚¬ν•­
- CLI λ¨λ“λ” μ¦‰μ‹ μ‹¤ν–‰ (ν™•μΈ λ©”μ‹μ§€ μ—†μ)
- help λ©”μ‹μ§€μ— μ‚¬μ© μμ  ν¬ν•¨
- νλΌλ―Έν„° κ²€μ¦ λ° μΉμ ν• μ—λ¬ λ©”μ‹μ§€

---

## ν…μ¤νΈ λ°©λ²•

### 1. CLI λ¨λ“ help ν™•μΈ
```bash
python3 scripts/run_bench_interactive.py --help
```
**κ²°κ³Ό**: νλΌλ―Έν„° μ„¤λ…κ³Ό μμ κ°€ ν‘μ‹λ¨ β…

### 2. λ€ν™”ν• λ¨λ“ (νλΌλ―Έν„° μ—†μ΄)
```bash
python3 scripts/run_bench_interactive.py
```
**μμƒ κ²°κ³Ό**: 
- ν—¤λ” ν‘μ‹
- μ„λ²„/λ¨λΈ/μ›ν¬λ΅λ“ μ„ νƒ λ©”λ‰΄
- κΈ°λ³Έκ°’μΌλ΅ μ—”ν„° μ…λ ¥ μ‹ 5λ¶„ κ³ λ¶€ν• ν…μ¤νΈ

### 3. CLI λ¨λ“ (μ›ν¬λ΅λ“ μ§€μ •)
```bash
python3 scripts/run_bench_interactive.py --target spark-test --model qwen3-coder-30b --workload high-load
```
**μμƒ κ²°κ³Ό**:
- μ„¤μ • μ •λ³΄ μ¶λ ¥
- λ²¤μΉλ§ν¬ μ¦‰μ‹ μ‹μ‘
- μ§„ν–‰ μƒν™© ν‘μ‹ (κ°μ„ λ μ‹κ°„ ν‘μ‹ ν¬ν•¨)

### 4. CLI λ¨λ“ (μ»¤μ¤ν…€ μ„¤μ •)
```bash
python3 scripts/run_bench_interactive.py --target spark-test --model qwen3-coder-30b --duration 60 --rps 10 --concurrency 20
```
**μμƒ κ²°κ³Ό**:
- μ»¤μ¤ν…€ μ›ν¬λ΅λ“ μƒμ„±
- 1λ¶„κ°„ RPS 10, λ™μ‹μ„± 20μΌλ΅ ν…μ¤νΈ μ‹¤ν–‰

---

## λ‹¤μ λ‹¨κ³„
- μ‹¤μ  λ²¤μΉλ§ν¬ μ‹¤ν–‰ μ‹ μƒλ΅μ΄ μ§„ν–‰ μƒν™© ν‘μ‹ ν™•μΈ
- ν•„μ”μ‹ μ¶”κ°€ νλΌλ―Έν„° μ§€μ› (μ: --output-dir, --no-save λ“±)
- λ²¤μΉλ§ν¬ κ²°κ³Ό μλ™ λ¶„μ„ λ° λ¦¬ν¬νΈ μƒμ„± νμ΄ν”„λΌμΈ κµ¬μ¶•
